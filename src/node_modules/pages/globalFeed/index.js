import React, { useEffect } from 'react';
import Feed from 'components/feed';
import useFetch from 'hooks/useFetch';
import './globalFeed.css';
import Pagination from 'components/pagination'

const GlobalFeed = ({location, match}) => {
    console.log(location, match)
    //const apiUrl= '/articles?limit=10&offset=0';
    const apiUrl='https://www.json-generator.com/api/json/get/cfEOWkvmSq?indent=2';
    const [{isLoading, response, error}, doFetch] = useFetch(apiUrl)
    console.log(response)
    useEffect(()=>{
        doFetch()
    }, [doFetch])
    return (
        <div className= 'homepage'>
            <div className= 'banner'>
                <h4>Medium Clone</h4>
                <p>A place to share your knowledge</p>    
            </div> 
            <div className= 'globalfeed'>
                <div className= 'col-md-9 global'>
                    <React.Fragment> 
                    {response && <Feed articles= {response}/>}
                    <Pagination total= {200} limit= {10} url = {"/tag"} currentPage= {1}/>
                    </React.Fragment>
                </div>
                <div className= 'col-md-3'>
                    Popular tags
                </div>
            </div>    
        </div>
    )
}
export default GlobalFeed